<!DOCTYPE html>
<html>
<meta content="text/html; charset=utf-8" />
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
 	<link rel="stylesheet" href="style-4.css">
</head>
<script>
function dropdown() {
	var dropdown ="";
	for (i=1;i<10;i++){
		dropdown+="<option value='"+i+"'>"+i+"</option>";
	}
	$("select").append(dropdown)
}
function hienthiForm() {
	$("form").empty();
	var soluongForm=$("option:selected").val();
	var Form=$("#formmau").html();
	for (i=1;i<=soluongForm;i++) {
		$("form").append(Form);
	}
	$("p:last").css("border-bottom", "hidden");
	$("p:last").html("<input type='button' id='nhap' value='Nhập'>");

}
function FormValidate() {
	var hoten=[];
	$(".hoten").each(function() {
		hoten.push($(this).val());
	})
	var lop=[];
	$(".lop").each(function() {
		lop.push($(this).val());
	})
	var email=[];
	$(".email").each(function() {
		email.push($(this).val());
	})
	var sdt=[];
	$(".sdt").each(function() {
		sdt.push($(this).val());
	})
	var van=[];
	$(".van").each(function() {
		van.push($(this).val());
	})
	var daoduc=[];
	$(".daoduc").each(function() {
		daoduc.push($(this).val());
	})
	var laptrinh=[];
	$(".laptrinh").each(function() {
		laptrinh.push($(this).val());
	})

	var Formvalidate = false;
	$("input + span").hide();
	for (i=1;i<=$("option:selected").val();i++) {
		if (hoten[i]=="") {
			$(".hoten:eq("+i+") + span").show();
			Formvalidate = true;
		}
		if (lop[i]=="") {
			$(".lop:eq("+i+") + span").show();
			Formvalidate = true;
		}
		if (email[i]==""||!/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(email[i])) {
			$(".email:eq("+i+") + span").show();
			Formvalidate = true;
		}
		if (sdt[i]==""||!/^[0-9]/.test(sdt[i])) {
			$(".sdt:eq("+i+") + span").show();
			Formvalidate = true;
		}
		if (van[i]==""||van[i]<0||van[i]>10||isNaN(van[i])==true) {
			$(".van:eq("+i+") + span").show();
			Formvalidate = true;
		}
		if (daoduc[i]==""||daoduc[i]<0||daoduc[i]>10||isNaN(daoduc[i])==true) {
			$(".daoduc:eq("+i+") + span").show();
			Formvalidate = true;
		}
		if (laptrinh[i]==""||laptrinh[i]<0||laptrinh[i]>10||isNaN(laptrinh[i])==true) {
			$(".laptrinh:eq("+i+") + span").show();
			Formvalidate = true;
		}
	}
}

$(function(){
	dropdown();
	$("select").change(function(){
		hienthiForm();
		$("#nhap").click(function() {
		FormValidate();
		if (!Formvalidate) {
			alert("a");
		}
		})
	})
})

</script>

<body>
<select>
<option hidden>Chọn số lượng</option>
</select>​
	<div id="formmau">
		<div>
			<span>Họ tên</span>
			<input type="text" class="hoten">
			<span>Họ tên bắt buộc nhập</span>
		</div>
		<div>
			<span>Lớp</span>
			<input type="text" class="lop">
			<span>Lớp bắt buộc nhập</span>
		</div>
		<div>
			<span>Email</span>
			<input type="text" class="email">
			<span>Email bắt buộc nhập, đúng định dạng</span>
		</div>
		<div>
			<span>Số điện thoại</span>
			<input type="text" class="sdt">
			<span>Số điện thoại bắt buộc nhập, đúng định dạng</span>
		</div>
		<div>
			<span>Điểm Văn</span>
			<input type="text" class="van">
			<span>Điểm văn phải nhập và phải là số trong khoảng từ 0 đến 10</span>
		</div>
		<div>
			<span>Điểm Đạo đức</span>
			<input type="text" class="daoduc">
			<span>Điểm Đạo đức phải nhập và phải là số trong khoảng từ 0 đến 10</span>
		</div>
		<div>
			<span>Điểm Lập trình</span>
			<input type="text" class="laptrinh">
			<span>Điểm lập trình phải nhập và phải là số trong khoảng từ 0 đến 10</span>
		</div>
		<p></p>
	</div>
<form>
</form>
</body>

</html>
